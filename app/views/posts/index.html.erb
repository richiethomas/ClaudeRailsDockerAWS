  <div class="max-w-4xl mx-auto px-4 py-8">
    <div class="mb-8">
      <h1 class="text-3xl font-bold mb-4">Posts</h1>

      <!-- Inline form for creating posts -->
      <div id="new_post_form" class="mb-8 border rounded-lg p-6 bg-gray-50">
        <h2 class="text-xl font-semibold mb-4">Create New Post</h2>
        <%= render partial: "form", locals: { post: Post.new } %>
      </div>
    </div>

    <div id="posts_list" class="space-y-4">
      <% @posts.each do |post| %>
        <%= turbo_frame_tag dom_id(post) do %>
          <div class="border rounded-lg p-6 bg-white shadow-sm">
            <h2 class="text-xl font-semibold mb-2">
              <%= link_to post.title, post_path(post), data: { turbo_frame: "_top" }, class: "text-blue-600 hover:underline" %>
            </h2>
            <p class="text-gray-600 mb-4"><%= truncate(post.body, length: 200) %></p>
            <div class="flex gap-2 text-sm">
              <span class="<%= post.published ? 'text-green-600' : 'text-gray-400' %>">
                <%= post.published ? '✓ Published' : '○ Draft' %>
              </span>
              <%= link_to "Edit", edit_post_path(post), class: "text-blue-600 hover:underline" %>
            </div>
          </div>
        <% end %>
      <% end %>
    </div>
  </div>